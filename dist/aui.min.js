"use strict";function escapeRegExp(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function uniqueStringArray(t,e){var n={};return t.forEach(function(t){n[t]=!0}),Object.keys(n)}function compileModuleSearch(){moduleSearch=new RegExp("\\b("+modules.map(function(t){return escapeRegExp(t)}).join("|")+")\\b","i")}function add$fn(t){return Array.isArray(t)||(t=[t]),modules=uniqueStringArray(modules.concat(t)),compileModuleSearch(),this}function remove$fn(t){return modules=uniqueStringArray(modules.filter(t)),compileModuleSearch(),this}function noop(){}function AuiSyntheticSyntheticEvent(t,e){var n=t.filter("select,input")[0]||t.parents(".dropdown:first").find("select,input")[0]||t[0]||e[0];this.type="input",this.timeStamp=Date.now(),this.target=n,this.preventDefault=this.isPersistent=this.isDefaultPrevented=this.isPropagationStopped=this.destructor=this.spotPropagation=noop}var toArray=Function.prototype.call.bind(Array.prototype.slice),hasOwn={}.hasOwnProperty,global=global||window,jQuery=global.jQuery,React=global.React||require("react/addons"),cloneWithProps=React.addons.cloneWithProps,modules=["accordion","api","checkbox","colorize","dimmer","dropdown","form","modal","dimmer","nag","popup","progress","rating","search","shape","sidebar","site","state","sticky","tab","transition","video","visibility","visit"],moduleSearch;compileModuleSearch(),/ios|iphone|ipad|ipod/i.test((navigator||{}).userAgent)&&jQuery("<style>*{cursor:pointer!important}</style>").appendTo("head");var AuiMixin={getInitialState:function(){return{}},componentWillMount:function(){function t(t,n,i){var r={};r[t]=n,e.setState(r,function(){r[t]=[],e.setState(r,i instanceof Function?i:noop)})}var e=this;this.behavior=function(e,n){return t.bind(this,e,n)}.bind(this),this.behaviors=function(e){var n=Array.isArray(e)?e.filter(function(t){return Array.isArray(t)&&"string"==typeof t[0]}).reduce(function(t,e){var n=e.unshift();t[n]=t[n]||[],t[n].push(e)},{}):e;return Object.keys(n).reduce(function(e,i){return n[i].reduce(function(e,n){return function(){t(i,n,e)}.bind(this)}.bind(this),e)}.bind(this),noop)}.bind(this)}},Aui=React.createClass({displayName:"Aui",propTypes:{children:React.PropTypes.element.isRequired},render:function(){function t(e){if(Array.isArray(e))return e.map(t);if(React.isValidElement(e)&&e.props&&e.props.noaui!==!0&&e.type!==Semantic&&e.type!==Aui){var n={className:Object.keys(e.props).filter(function(t){return e.props[t]===!0||moduleSearch.test(t)}).join(" ")};if(e.key&&(n.key=e.key),e.ref&&(n.ref=e.ref),e.props.children&&(n.children=t(e.props.children),(/\bform\b/.test(n.className)||/\bform\b/.test(e.props.className))&&(n.children=Array.isArray(n.children)?n.children:[n.children],e.props.onSubmit&&(n.onFormSubmit=e.props.onSubmit,n.onSubmit=null),n.children.unshift(React.createElement("input",{type:"submit",style:{display:"none"}})))),e=cloneWithProps(e,n),jQuery&&moduleSearch.test(e.props.className)&&!/\bicon\b/.test(e.props.className)&&jQuery.fn[moduleSearch.exec(e.props.className)[0]])return React.createElement(Semantic,{},e);if(jQuery&&e.props.name)return React.createElement(Semantic,{},e)}return e}return t(this.props.children)}}),Semantic=React.createClass({displayName:"Semantic",propTypes:{children:React.PropTypes.element.isRequired},getInitialState:function(){return{formData:{}}},onFormInput:function(t){var e=t.target;setTimeout(function(){var t=this.state.formData;t[e.name]=e.value||e.setValue||e.defaultValue,this.setState({formData:t})}.bind(this))},componentWillMount:function(){var t=this.props.children.props.onInput,e=this.onFormInput;this.bothFormOnInput=function(n){e.apply(this,arguments),t&&t.apply(this,arguments)}},render:function(){return this.props.children.props.form?cloneWithProps(this.props.children,{onInput:this.bothFormOnInput}):this.props.children},componentDidMount:function(){var t=this,e=t.props.children.props,n=jQuery(t.getDOMNode()),i=t.bothFormOnInput;e.name&&n.attr("data-name",e.name).parents("form.form:first").form("set value",e.name,e.setValue),e.form&&e.setValues&&n.form("set values",e.setValues),e.className.split(" ").filter(function(t){return moduleSearch.test(t)}).map(function(r){var a=e[r];if(a){a=Array.isArray(a)?a:[a],"settings"===a[0]&&a.shift();var o=a[a.length-1]=a[a.length-1]||{};if(o===!0&&(o=a[a.length-1]={}),"form"===r&&(a[1]||(a[1]={}),e.onFormSubmit&&(a[1].onSuccess=function(n){n&&(n.isTrigger?(n.data=JSON.parse(JSON.stringify(t.state.formData)),e.onFormSubmit.apply(this,arguments)):n.preventDefault())}),o=a[1],setTimeout(function(){n.find("[data-name]").each(function(e,n){var i=jQuery(n),r=t.state.formData;r[i.attr("data-name")]=i.val()})})),"object"==typeof o){var s=o.onChange;Object.keys(e).filter(function(t){return/^on[A-Z]/.test(t)}).map(function(t){/^on(Input|Change)$/.test(t)||(o[t]=e[t]),n.data(t,e[t])}),"form"===r&&n.data("onInput",i),o.onChange=function(t,i){var r=jQuery(this);setTimeout(function(){s&&s.apply(this,arguments),e.onInput&&e.onInput.call(this,new AuiSyntheticSyntheticEvent(r,n)),e.onChange&&e.onChange.call(this,new AuiSyntheticSyntheticEvent(r,n));var t=r.parents(".form:first");t[0]&&(t.data("onChange")&&t.data("onChange").call(this,new AuiSyntheticSyntheticEvent(r,n)),t.data("onInput")&&t.data("onInput").call(this,new AuiSyntheticSyntheticEvent(r,n)))}.bind(this,arguments))}}n[r].apply(n,a),e.name&&setTimeout(function(){var t=n.parents("form.form:first"),i=t.data("onInput");i&&(t.form("set value",e.name,e.value||e.setValue||e.defaultValue),i(new AuiSyntheticSyntheticEvent(n,n)))}.bind(this))}})},componentWillReceiveProps:function(t){t=t.children.props;var e=this,n=jQuery(e.getDOMNode());t.className.split(" ").filter(function(t){return moduleSearch.test(t)}).map(function(e){var i=Array.isArray(t[e])?t[e]:[t[e]];"string"==typeof i[0]&&("settings"===i[0]&&i.shift(),n[e].apply(n,i))}),t.form&&JSON.stringify(t.setValues)!==this._setValues&&(this._setValues=JSON.stringify(t.setValues),setTimeout(function(){var e=n.data("onInput");e&&(n.form("set values",t.setValues),this.setState({formData:n.form("get values")}),e(new AuiSyntheticSyntheticEvent(n,n)))}.bind(this))),t.name&&JSON.stringify(t.setValue)!==this._setValue&&(this._setValue=JSON.stringify(t.setValue),setTimeout(function(){var e=n.parents("form.form:first"),i=e.data("onInput");i&&(e.form("set value",t.name,t.setValue),i(new AuiSyntheticSyntheticEvent(n,n)))}.bind(this)))}});if(!module)var module={},exports;module.exports=exports=global.Aui=Aui,exports.Aui=Aui,exports.Mixin=exports.AuiMixin=AuiMixin,exports.Semantic=Semantic,exports.add$fn=add$fn,jQuery&&(exports.api=jQuery.fn.api);