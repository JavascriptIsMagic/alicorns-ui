"use strict";var global=global||window,jQuery=global.jQuery,React=global.React||require("react/addons"),cloneWithProps=React.addons.cloneWithProps,modules=["accordion","api","checkbox","colorize","dimmer","dropdown","form","modal","dimmer","nag","popup","progress","rating","search","shape","sidebar","site","state","sticky","tab","transition","video","visibility","visit"],moduleSearch=new RegExp("\\b("+modules.join("|")+")\\b","i"),Aui=React.createClass({propTypes:{children:React.PropTypes.element.isRequired},render:function(){function e(t){if(Array.isArray(t))return t.map(e);if(React.isValidElement(t)&&t.props&&t.props.noaui!==!0&&t.type!==Semantic){var r={className:Object.keys(t.props).filter(function(e){return t.props[e]===!0||moduleSearch.test(e)}).join(" ")};if(t.key&&(r.key=t.key),t.ref&&(r.ref=t.ref),t.props.children&&(r.children=e(t.props.children)),t=cloneWithProps(t,r),jQuery&&moduleSearch.test(t.props.className)&&jQuery.fn[moduleSearch.exec(t.props.className)[0]])return React.createElement(Semantic,{},t)}return t}return e(this.props.children)}}),Semantic=React.createClass({propTypes:{children:React.PropTypes.element.isRequired},getInitialState:function(){return{formData:{}}},onFormInput:function(e){var t=this.state.formData;t[e.target.name]=e.target.value,this.setState({formData:t})},render:function(){if(this.props.children.props.form){var e=this.props.children.props.onInput,t=this.onFormInput;return cloneWithProps(this.props.children,{onInput:function(){t.apply(this,arguments),e&&e.apply(this,arguments)}})}return this.props.children},applySettings:function(){var e=this.props.children.props,t=jQuery(this.getDOMNode()),r=this.state.formData;e.className.split(" ").filter(function(e){return moduleSearch.test(e)}).map(function(o){var i=e[o];i=Array.isArray(i)?i:[i];var n=i[i.length-1]=i[i.length-1]||{};"form"===o&&(i[1]||(i[1]={}),e.onSubmit&&(i[1].onSuccess=function(t){t.data=r,e.onSubmit.apply(this,arguments)}),n=i[1]),Object.keys(e).filter(function(e){return/^on[A-Z]/.test(e)}).map(function(t){n[t]=e[t]}),t[o].apply(t,i)})},componentDidMount:function(){this.applySettings()},componentWillUnmount:function(){this.props.children.props,jQuery(this.getDOMNode());jQuery(this.getDOMNode()).remove()}});if(!module)var module={},exports;module.exports=exports=global.Aui=Aui,exports.Aui=Aui,exports.Semantic=Semantic,jQuery&&(exports.api=jQuery.fn.api);