{"version":3,"sources":["aui.coffee","aui.min.js"],"names":["Aui","AuiMixin","AuiOptions","React","cache","jQuery","ref1","ref2","ref3","ref4","ref5","ref6","ref7","hasProp","hasOwnProperty","indexOf","item","i","l","this","length","window","global","Error","console","warn","site","settings","modules","$","ref","findDOMNode","refs","componentWillMount","render","element","apply","arguments","classify","isValidElement","warning","createClass","mixins","props","children","componentDidMount","Mixin","message","DOM","span","data-warning","disableModules","disableSemantic","ignoreChildren","options","key","value","call","className","classNames","len","split","Array","isArray","Object","keys","join","cloneElement","Children","map","createElement","Module","slice","only","callModules","componentWillReceiveProps","$element","module","name","ref8","stringifiedOptions","id","attr","JSON","stringify","componentWillUnmount","exports"],"mappings":"CAAA,WAAA,GAAAA,GAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,KAAAC,eCGIC,KAAaA,SAAW,SAASC,GAAQ,IAAK,GAAIC,GAAI,EAAGC,EAAIC,KAAKC,OAAYF,EAAJD,EAAOA,IAAO,GAAIA,IAAKE,OAAQA,KAAKF,KAAOD,EAAM,MAAOC,EAAK,OAAO,GDFlJ,IADAX,EAAkBe,QAAUC,OAA3BnB,EAAAG,EAAAH,MAAOE,EAAAC,EAAAD,OACD,MAAAF,EAAY,KAAU,IAAAoB,OAAM,+BAC5B,OAAAlB,GAAamB,QAAQC,KAAK,2EAC1B,OAAA,MAAApB,GAAA,OAAAE,EAAAF,EAAAqB,OAAA,OAAAlB,EAAAD,EAAAoB,UAAAnB,EAAAoB,QAAA,SAAsCJ,QAAQC,KAAK,6FAQ1DxB,GACE4B,EAAG,SAACC,GCSA,MDTQzB,GAAOF,EAAM4B,YAAYZ,KAACa,KAAKF,IAAQA,KACnDG,mBAAoB,WAClB,GAAAC,ECYE,ODZFA,GAASf,KAACe,OACVf,KAACe,OAAS,WACR,GAAAC,EACA,OADAA,GAAA,MAAAD,GAAA,kBAAAA,GAAAE,MAAUF,EAAQE,MAAOjB,KAAGkB,WAAA,OAE1BrC,EAAIsC,SADHnC,EAAMoC,eAAeJ,GACTA,EAEAnC,EAAIwC,QAAQ,iDAAkDL,OAKnFnC,EAAMG,EAAMsC,aACVC,QAASzC,GACTiC,OAAQ,WCcJ,MDbFlC,GAAIwC,QAAQ,kDAAmDrB,KAACwB,MAAMC,WACxEC,kBAAmB,WCef,MDdFrB,SAAQC,KAAKtB,EAAM4B,YAAYZ,UACnCnB,EAAI8C,MAAQ9C,EAAIC,SAAWA,EAC3BD,EAAIA,IAAMA,EACVA,EAAI6B,EAAIxB,EAKRL,EAAIwC,QAAU,SAACO,EAASZ,GCkBpB,MDjBFX,SAAQC,KAAKsB,EAASZ,GACtBhC,EAAM6C,IAAIC,MAAOC,eAAgBH,GAAWZ,IAI9CnC,EAAI2B,UAEFwB,eAAoB,MAAA9C,EAEpB+C,gBAAqB,OAAA,MAAA/C,GAAA,OAAAI,EAAAJ,EAAAqB,OAAA,OAAAhB,EAAAD,EAAAkB,UAAAjB,EAAAkB,QAAA,QAErByB,gBAAgB,GAIZnD,EAAA,WACS,QAAAA,GAACoD,GACZ,GAAAC,GAAA5C,EAAA6C,CAAA,IAAGF,YAAmBpD,GACpB,MAAOoD,EACT,MAAOnC,eAAajB,IAClB,MAAW,IAAAA,GAAWoD,EACxBA,KAAAA,MACA3C,EAAAX,EAAA2B,QAAA,KAAA4B,IAAA5C,GCkBSE,EAAQ4C,KAAK9C,EAAM4C,KACxBC,EAAQ7C,EAAK4C,GDlBfpC,KAAEoC,GAAU,MAAAD,EAAAC,GAAmBD,EAAQC,GAAUC,GCuBnD,MAAOtD,MDhBXF,EAAIsC,SAAW,SAACH,EAASmB,GACvB,GAAAhB,ECoEE,ODpEFgB,GAAUpD,EAAWoD,GACdnD,EAAMoC,eAAeJ,KAC1BA,EAAUnC,EAAIwC,QAAQ,sDAAuDL,KAC/EG,EAAW,SAACH,GACV,GAAAuB,GAAAC,EAAA1C,EAAAsC,EAAAK,EAAAhC,EAAAe,EAAAhC,EAAAC,EAAA4C,CAAA,KAAsBrD,EAAMoC,eAAeJ,GAA3C,MAAOA,EAIP,IAHAwB,KACA/B,EAAU,KACVe,KACG,MAAAR,EAAAQ,MAAAe,UACD,IAAA/C,GAAA,GAAAwB,EAAAQ,MAAAe,WAAAG,MAAA,QAAA5C,EAAA,EAAA2C,EAAAjD,EAAAS,OAAAwC,EAAA3C,EAAAA,IC2BIyC,EAAY/C,EAAKM,GD1BnB0C,EAAWD,IAAa,CAC5B9C,GAAAuB,EAAAQ,KAAA,KAAAY,IAAA3C,GC+BSC,EAAQ4C,KAAK7C,EAAM2C,KACxBC,EAAQ5C,EAAK2C,GD/BUC,KAAS,IAAlCG,EAAWJ,IAAO,IACVD,EAAQH,gBAAqBW,MAAMC,QAAQP,IAAYzC,EAAA0C,KAAOzD,EAAI4B,QAAX2B,IAAA,IAC7DI,EAAWJ,IAAO,EAClB3B,IAAAA,MACAA,EAAQ2B,GAAOC,GACjBb,EAAMY,GAAOC,EAMf,OALAb,GAAMe,UAAYM,OAAOC,KAAKN,GAAYO,KAAK,KACxCvB,EAAMe,UAAUtC,cACduB,GAAMe,UAEfvB,EAAUhC,EAAMgE,aAAahC,EAASQ,EAAUW,EAAQD,eAAoBlB,EAAQQ,MAAMC,SAAczC,EAAMiE,SAASC,IAAIlC,EAAQQ,MAAMC,SAAUN,IAChJV,EACDzB,EAAMmE,cAActE,EAAIuE,QAAU3C,QAAAA,EAAS0B,QAAAA,GAAWnB,GACnDA,IACEA,IASXnC,EAAI4B,UAAU,MAAAvB,GAAA,OAAAM,EAAAN,EAAAqB,OAAA,OAAAd,EAAAD,EAAAgB,UAAAf,EAAyBgB,QAAA,aAAe4C,QAGtDpE,KAIAJ,EAAIuE,OAASpE,EAAMsC,aACjBP,OAAQ,WCkCJ,MDlCO/B,GAAMiE,SAASK,KAAKtD,KAACwB,MAAMC,WACtCC,kBAAmB,WCoCf,MDnCF1B,MAACuD,YAAYvD,KAACwB,MAAMC,SAASD,QAC/BgC,0BAA2B,SAAChC,GCqCxB,MDpCFxB,MAACuD,YAAY/B,EAAMC,SAASD,QAC9B+B,YAAa,SAAC/B,GACZ,GAAAiC,GAAAC,EAAAC,EAAAxB,EAAAyB,EAAAC,CAAAJ,GAAWvE,EAAOF,EAAM4B,YAAYZ,OACpCA,KAAC8D,GAAKL,EAASM,KAAK,gBACpB9E,EAAA0E,EAAM3D,KAAC8D,MAAP7E,EAAA0E,OACAC,EAAA5D,KAAAwB,MAAAf,OAAA,KAAAiD,IAAAE,GCwCSlE,EAAQ4C,KAAKsB,EAAMF,KACxBvB,EAAUyB,EAAKF,GDxCjBG,EAAqBG,KAAKC,UAAU9B,GACjClD,EAAMe,KAAC8D,IAAIJ,KAAaG,IACzB5E,EAAMe,KAAC8D,IAAIJ,GAAUG,EC0Ca,kBAArBJ,GAASC,IDzCtBD,EAASC,GAAAzC,MAAAwC,EAASzD,KAACwB,MAAMC,SAASD,MAAMkC,OAE9CQ,qBAAsB,WC8ClB,aD7CKjF,GAAMe,KAAC8D,OCiDM,mBAAX5D,SAAqC,OAAXA,SDhDvCA,OAAQrB,IAAMA,GCoDU,mBAAX6E,SAAqC,OAAXA,SDnDvCA,OAAQS,QAAUtF,KCuDfyD,KAAKtC","file":"aui.min.js","sourcesContent":["{React, jQuery} = window or global\r\nunless React? then throw new Error \"Aui: window.React not found.\"\r\nunless jQuery? then console.warn \"Aui: window.jQuery not found, Modules and Semantic-UI will be disabled.\"\r\nunless jQuery?.site?.settings?.modules? then console.warn 'Aui: No Semantic-UI window.jQuery.site.settings.modules found, Semantic will be disabled.'\r\n\r\n\r\n## mixin Aui.Mixin\r\n# Aui.Mixin is the main wrapper around React Components\r\n# it recursively goes through all it's children,\r\n# finding props that === true or are on the `Aui.modules` list,\r\n# and merges them into the className of each element.\r\nAuiMixin =\r\n  $: (ref) -> jQuery React.findDOMNode @refs[ref] or ref\r\n  componentWillMount: ->\r\n    render = @render\r\n    @render = ->\r\n      element = render?.apply? @, arguments\r\n      if React.isValidElement element\r\n        Aui.classify element\r\n      else\r\n        Aui.classify Aui.warning 'Aui.Mixin: Child is not a React.isValidElement', element\r\n\r\n## (depricated) class <Aui/>\r\n# A tag that applies the Aui.Mixin\r\n# Using the Aui.Mixin in your Component is prefered over <Aui/> tag.\r\nAui = React.createClass\r\n  mixins: [AuiMixin]\r\n  render: ->\r\n    Aui.warning '<Aui/> tag is depricated, use Aui.Mixin instead', @props.children\r\n  componentDidMount: ->\r\n    console.warn React.findDOMNode @\r\nAui.Mixin = Aui.AuiMixin = AuiMixin\r\nAui.Aui = Aui\r\nAui.$ = jQuery\r\n\r\n## function Aui.warning (string, element)\r\n# console.warn a warning message\r\n# returns the element wrapped in a warning span\r\nAui.warning = (message, element) ->\r\n  console.warn message, element\r\n  React.DOM.span { 'data-warning': message }, element\r\n\r\n## object Aui.settings\r\n# The default options Aui uses when no options or props are passed in.\r\nAui.settings =\r\n  # disables jQuery based Aui.modules from calling\r\n  disableModules: not jQuery?\r\n  # disables Semantic-UI specific features\r\n  disableSemantic: not jQuery?.site?.settings?.modules?\r\n  # do not recursively Aui.classify children by default.\r\n  ignoreChildren: no\r\n\r\n## internal class `AuiOptions({options})`\r\n# defaults all Aui options\r\nclass AuiOptions\r\n  constructor: (options) ->\r\n    if options instanceof AuiOptions\r\n      return options\r\n    unless @ instanceof AuiOptions\r\n      return new AuiOptions options\r\n    options or= {}\r\n    for own key, value of Aui.settings\r\n      @[key] = if options[key]? then options[key] else value\r\n\r\n## element `Aui.classify(element, {options})`\r\n# finds all the props that === true or are on the `Aui.modules` list,\r\n# and merging them with the className prop.\r\n# `Aui.classify(<div ui grid><div column>content</div></div>)`\r\n# returns `<div ui grid className=\"ui grid\"><div column className=\"column\">content</div></div>`\r\nAui.classify = (element, options) ->\r\n  options = AuiOptions options\r\n  unless React.isValidElement element\r\n    element = Aui.warning 'Aui.classify: element is not a React.isValidElement', element\r\n  classify = (element) ->\r\n    return element unless React.isValidElement element\r\n    classNames = {}\r\n    modules = null\r\n    props = {}\r\n    if element.props.className?\r\n      for className in \"#{element.props.className}\".split /\\s+/g\r\n        classNames[className] = yes\r\n    for own key, value of element.props\r\n      classNames[key] = yes if value is yes\r\n      if (not options.disableModules) and (Array.isArray value) and (key in Aui.modules)\r\n        classNames[key] = yes\r\n        modules or= {}\r\n        modules[key] = value\r\n      props[key] = value\r\n    props.className = Object.keys(classNames).join ' '\r\n    unless props.className.length\r\n      delete props.className\r\n    #console.log modules, (if typeof element.type is 'string' then element.type else 'Component'), props.className or ''\r\n    element = React.cloneElement element, props, if options.ignoreChildren then element.props.children else React.Children.map element.props.children, classify\r\n    if modules\r\n      React.createElement Aui.Module, { modules, options }, element\r\n    else element\r\n  classify element\r\n\r\n## string[] `Aui.modules`\r\n# A whitelist of jQuery modules\r\n# (also includes `window.jQuery.site.settings.modules` from Semantic-UI if it exists)\r\n# When a property is encountered on a ReactElement that matches this whitelist,\r\n# the corisponding `window.jQuery.fn[modulename]` will be called with the property's value.\r\n# This is mostly intended for use with Semantic-UI's javascript,\r\n# but in theory could be used to call any `window.jQuery.fn` function\r\nAui.modules = (jQuery?.site?.settings?.modules or []).slice()\r\n\r\n## internal global cache of options passed to module functions.\r\ncache = {}\r\n\r\n## internal class <Aui.Module/>\r\n# This class provides support for `Aui.modules` and handles calling jQuery.fn[module] calls\r\nAui.Module = React.createClass\r\n  render: -> React.Children.only @props.children\r\n  componentDidMount: ->\r\n    @callModules @props.children.props\r\n  componentWillReceiveProps: (props) ->\r\n    @callModules props.children.props\r\n  callModules: (props) ->\r\n    $element = jQuery React.findDOMNode @\r\n    @id = $element.attr 'data-reactid'\r\n    cache[@id] or= {}\r\n    for own module, options of @props.modules\r\n      stringifiedOptions = JSON.stringify options\r\n      if cache[@id][module] isnt stringifiedOptions\r\n        cache[@id][module] = stringifiedOptions\r\n        $element[module]? @props.children.props[module]...\r\n    return\r\n  componentWillUnmount: ->\r\n    delete cache[@id]\r\nwindow?.Aui = Aui\r\nmodule?.exports = Aui\r\n",null],"sourceRoot":"/source/"}